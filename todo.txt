+ clear file before writing
+ test and refactor